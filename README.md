# Proyecto final de IS-III - CPTeach

## Trello

 [Enlace](https://trello.com/invite/b/NZPuDOC3/ATTI1e61b3589a3578735cd3740d8cd08937926EEC0C/cpteach-dev-progress)

<p align="center">
  <img src="media/cpteach.png?raw=true" alt="Sublime's custom image"/>
</p>

## Integrantes 
- Alvaro Sergio Cano Luque
- Angie Alexandra Pino Huarsaya
- Fabrizio Miguel Mattos Cahui 
- Gleddynuri Marbel Picha Chañi 
- Joao Franco Emanuel Chávez Salas
- Diego Josue Aquino Quipe
## Contexto
Siempre a comienzos del semestre existen problemas con la asignación de docentes y también para aprender los cursos debidamente, no solo en la universidad sino en el campo educativo, después de la pandemia del 2019 se ha incrementado los problemas de déficit de atención en los estudiantes.
Nuestra preocupacion de esta problematica es grave, porque en la universidad se están perdiendo semanas de clases y para cuando llegue el docente ya no se puede recuperar el tiempo perdido pero de haber usado la aplicación ya se habría avanzado parte del temario del curso y no habría problemas para el examen, desde el punto de vista de los estudiantes este problema se podría resolver con la tecnología que tanto estamos aprendiendo.


## ¿Qué es CPTeach?
CPTeach es una plataforma de administracion y contratacion de docentes, primariamente para el lado universitario. En la cual se recibiran correos con informacion personal en documentos de cada docente el cual desee unirse a la institucion. Ademas de un perfil propio donde se vera salarios, cursos impartidos, tiempo en la institucion, termino de contrato, etc.

## Objetivos

### Objetivo General
Renovar completamente el proceso de eleccion de docentes en la universidad, ademas de poder modularizar el sistema para darle otros usos educativos, como el de admistracion de docentes en general.
### Objetivos Específicos
* *Implementar el uso de automatizacion a la hora de validar titulos profesionales.*
* *Integrar plataformas móviles con plataformas web*
* *Poner en funcionamiento bases de datos y servidores que funcione conjuntamente con la aplicación.*
* *Estudiar el desarrollo de aplicaciones Android y aplicaciones web.*
* *Disminuir la carga laboral del personal docente y administrativo.*
* *Mejorar la administracion y eleccion de docentes*

## Propuesta
Nos proponemos crear una plataforma en donde podamos captar docentes para el dictado de cursos de la carrera, que sigan un proceso de selección y una vez contratados, poder asignarlos a diversos cursos de la carrera. adicionalmente captaremos a docentes que podrán dar sesiones especiales de 1 o 2 horas para reforzar los conocimientos de los alumnos según sea requerido por ellos.
Es posible que se llegue a comercializar porque a pesar de que existen plataformas similares, ésta aplicaría para cursos universitarios en donde hasta ahora no existe una forma de conseguir a un docente por horas adicionales para el reforzamiento del curso según la disposición de tiempo de los estudiantes, ni docentes que puedan cubrirse unos a otros para que se respete el cronograma de clases.
Según los porcentajes en cuanto educación, desde el nivel  inicial hasta el superior, hace falta docentes que refuercen el conocimiento en el nivel primario y superior.
Por lo tanto la razón de la comercialización esta en el porcentaje de estudiantes que no pueden culminar sus estudios universitarios, ya sea por trabajo, problemas familiares entre otros.


## Beneficios
* **Ahorrar tiempo**: Con nuestro sistema tendremos un único punto de referencia para la contratacion de docentes, ademas de poder ser de un lugar administrativo para docentes y secretaria.
* **Aumentar la precisión:** Con el sistema se reduce drásticamente el error humano al revisar documentos ademas de agilizar el proceso de administracion de docentes.
* **Garantizar la integridad de los datos:** En comparación con el antiguo papeleo a la hora de una contratacion y tiempo adicional innecesario, nuestro sistema podra brindar una mayor agilidad a la administracion de la institucion a la cual se le imparta nuestro servicio.
* **Reducir el trabajo administrativo:** La documentacion estara disponible al instante.
* **Disminuir los costes administrativos:** Al poder centralizar diversos sistemas en uno, logramos reducir costos en un alto porcentaje.

## Impacto Social
La iniciativa tiene repercusiones positivas para:
**Estudiantes:** Reducción del el absentismo, mejorar la calidad de las clases impartidas asi generando mejores bases para nuestros futuros profesionales.
**Docentes:** La contratacion es rapida, ademas de evitar perdida de datos.
**Dirección de las Escuelas y Facultades:** El equipo directivo evita mareos a la hora de administrar docentes, al dar notificaciones sobre puntos importantes a la hora del trabajo.
## Tecnologias
## Diagrama de Clases

<p align="center">
  <img src="media/D02.jpg" alt="Sublime's custom image"/>
</p>

## Diagrama entidad relación

<p align="center">
  <img src="media/EER_model.png" alt="Sublime's custom image"/>
</p>

## Diagrama relacional

<p align="center">
  <img src="media/Modelo_relacional.png" alt="Sublime's custom image"/>
</p>
## Diagrama de Casos de Uso

<p align="center">
  <img src="media/Diagrama_casos_de_uso.png" alt="Sublime's custom image"/>
</p>

## Wireframes
Para las diagramamaciones de las se utilizó Figma


### Link WEB - [Versión Web](https://www.figma.com/file/5x7CzySBo0gkk9dtewyFwO/Untitled?type=design&t=GCXpUJp5qlITTBsL-1)

## Capturas

<p align="center">
  <img src="media/1.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/2.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/3.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/4.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/5.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/6.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/7.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/8.png" alt="Sublime's custom image"/>
</p>
<p align="center">
  <img src="media/9.png" alt="Sublime's custom image"/>
</p>

## Funcionalidades

 - [X] Iniciar sesión.
 - [X] Cerrar sesión.
 - [X] Asignar curso a docente.
 - [X] Ver estadísticas de rendimiento de docente (asistencias, faltas, etc).
 - [X] Generar reportes.
 - [X] Editar perfil de docente.
 - [X] Despedir docente.
 - [X] Editar horario.
 - [X] Ver cursos.
 - [X] Ver horarios.
 - [X] Ver salarios.
 - [X] Ver fecha de contratacion/fin de contratacion.

## MVC-Modelo Vista Controlador
<p align="center">
  <img src="https://developer.mozilla.org/en-US/docs/Glossary/MVC/model-view-controller-light-blue.png?raw=true" alt="Sublime's custom image"/>
</p>
La principal ventaja del patrón MVC es su capacidad para separar las preocupaciones y hacer que el desarrollo sea más fácil de mantener y escalar. Cada componente tiene una responsabilidad clara y puede modificarse o reemplazarse sin afectar a los otros. Esto mejora la flexibilidad y la reutilización del código.

El patrón MVC ha sido ampliamente adoptado en el desarrollo de aplicaciones debido a sus beneficios en la organización y mantenimiento del código, lo que facilita la colaboración entre equipos y permite un desarrollo más rápido y eficiente.
## Requisitos funcionales
### Registro y proceso de selección:
- [X] Los docentes deben poder registrarse en la plataforma proporcionando información personal y académica relevante.
- [X] Se debe realizar un proceso de selección para contratar a los docentes, con etapas de evaluación y aprobación.
### Gestión de la plana docente:
- [X] El sistema debe permitir asignar a los docentes contratados a los respectivos cursos y asignaturas.
- [X] Los docentes deben poder acceder a su cronograma de clases, que muestre la fecha, hora y lugar de cada sesión.
### Personalización de criterios de evaluación:
- [X] Los docentes deben tener la capacidad de personalizar los criterios y pesos de evaluación para cada curso que imparten.
- [X] Deben poder definir los diferentes componentes de evaluación, como exámenes, trabajos, participación, etc.
 ### Registro y actualización de notas:
- [X] Los docentes deben poder ingresar y actualizar las notas de los alumnos matriculados en sus cursos.
- [X] El sistema debe permitir el registro de notas de forma fácil y precisa, y realizar cálculos automáticos de promedios y calificaciones finales.
 
 
## Requisitos no funcionales
=====
### Seguridad:
- [X] La plataforma debe garantizar la seguridad de los datos personales y académicos de los docentes y alumnos.
- [X] Se deben implementar medidas de autenticación y autorización para proteger la información sensible.
- [X] Las funciones de colaboración deben cumplir con los estándares de seguridad de la universidad para proteger la confidencialidad y privacidad de los datos compartidos.
### Usabilidad:
- [X] La interfaz de usuario debe ser intuitiva y fácil de usar para docentes y alumnos.
- [X] Se debe proporcionar una navegación clara y estructurada, con instrucciones claras para cada funcionalidad.
### Escalabilidad:
- [X] El sistema debe ser capaz de manejar un gran número de docentes y alumnos a medida que la universidad crece.
- [X] Debe tener capacidad para manejar un alto volumen de datos, como registros de notas y mensajes.
### Rendimiento:
- [X] La plataforma debe tener un rendimiento óptimo, con tiempos de carga rápidos y respuestas ágiles a las solicitudes de los usuarios.
- [X] Debe ser capaz de manejar múltiples usuarios simultáneamente sin afectar la velocidad y la calidad del servicio.
### Mantenibilidad:
- [X] El código y la infraestructura de la plataforma deben ser mantenibles y permitir futuras actualizaciones y mejoras.
- [X] Se debe proporcionar documentación adecuada para facilitar el mantenimiento y la resolución de problemas.

## 📝 Para inicializar el proyecto WEB
Ejecute primero los siguientes comandos en la direccion del proyecto
```
virtualenv env
.\Scripts\activate
```
Instalar modulos - SQLite
```
pip install -r requirements.txt
```
Crear Tablas
```
python manage.py makemigrations
$ python manage.py migrate
```
Iniciar la aplicacion
```
python manage.py runserver # default port 8000
```
Iniciar la aplicacion (Puerto modificado)
```
python manage.py runserver 0.0.0.0:<your_port>
```


## Resumen de conceptos utilizados

#### CODIFICACIÓN LEGIBLE (CLEAN CODE)

- Comentarios
- Reglas de nombres
- Consejos de comprensibilidad
- Reglas de funciones
- Objetos y estructuras de datos
- Captalize SQL Special Words


#### PRINCIPIOS SOLID

- Principio de inversión de dependencia (DIP)
- Principio abierto/cerrado (OCP)
- Interface segregation principle(ISP)
- Liskov Substitution Principle (LSP)

#### PRINCIPIOS DE DDD
 - Ubiquitous Lenguage
 - Persistance Ignorance
 - Services

# Conceptos Utilizados

## ESTILOS DE LA PROGRAMACIÓN
- Letterbox
- Tantrum
- Aspects
- Persistent Tables
- Declared Intentions
- Things

### Estilo 1 - Letterbox

#### Descripción
- El problema más grande se descompone en 'cosas' que tienen sentido para el dominio del problema.
- Cada 'cosa' es una cápsula de datos que expone un solo procedimiento, a saber, la capacidad de recibir y enviar mensajes que se le envían.
- El envío de mensajes puede resultar en el envío del mensaje a otra cápsula.

#### Fragmento de código

``` javascript
# Llave de seguridad
SECRET_KEY = config('SECRET_KEY', default='S#perS3crEt_1122')

DEBUG = config('DEBUG', default=True, cast=bool)

ALLOWED_HOSTS = ['localhost', '127.0.0.1', config('SERVER', default='127.0.0.1')]

# Declaraciones
INSTALLED_APPS = [
    'django.contrib.admin',
    'django.contrib.auth',
    'django.contrib.contenttypes',
    'django.contrib.sessions',
    'django.contrib.messages',
    'django.contrib.staticfiles',
    'gmailapi_backend',
    'apps.home' 
]
```

### Estilo 2 - Tantrum

#### Descripción
- Cada procedimiento y función verifica la cordura de sus argumentos y se niega a continuar cuando los argumentos no son razonables.
- Todos los bloques de código verifican todos los posibles errores, posiblemente imprimen mensajes específicos del contexto cuando ocurren errores y pasan los errores a la cadena de llamadas de función

#### Fragmento de código

``` javascript
def main():
    os.environ.setdefault('DJANGO_SETTINGS_MODULE', 'core.settings')
    try:
        from django.core.management import execute_from_command_line
    except ImportError as exc:
        raise ImportError(
            "Couldn't import Django. Are you sure it's installed and "
            "available on your PYTHONPATH environment variable? Did you "
            "forget to activate a virtual environment?"
        ) from exc
    execute_from_command_line(sys.argv)

if __name__ == '__main__':
    main()
```

### Estilo 3 - Aspects

#### Descripción
- El problema se descompone utilizando alguna forma de abstracción (procedimientos, funciones, objetos, etc.)
- Los aspectos del problema se agregan al programa principal sin editar el código fuente de las abstracciones. Estas funciones secundarias se aferran a las abstracciones principales nombrándolas, como en "Soy un aspecto de foo (¡aunque puede que foo no lo sepa!)".

#### Fragmento de código
``` javascript
{% extends 'layouts/base.html' %}

{% block title %} Maps {% endblock title %}

{% block content %}

    <!-- Header -->
    <div class="header bg-primary pb-6">
      <div class="container-fluid">
        <div class="header-body">
          <div class="row align-items-center py-4">
            <div class="col-lg-6 col-7">
              <h6 class="h2 text-white d-inline-block mb-0">Google maps</h6>
              <nav aria-label="breadcrumb" class="d-none d-md-inline-block ml-md-4">
                <ol class="breadcrumb breadcrumb-links breadcrumb-dark">
                  <li class="breadcrumb-item"><a href="#"><i class="fas fa-home"></i></a></li>
                  <li class="breadcrumb-item"><a href="#">Maps</a></li>
                  <li class="breadcrumb-item active" aria-current="page">Google maps</li>
                </ol>
              </nav>
            </div>
            <div class="col-lg-6 col-5 text-right">
              <a href="#" class="btn btn-sm btn-neutral">New</a>
              <a href="#" class="btn btn-sm btn-neutral">Filters</a>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Page content -->
    <div class="container-fluid mt--6">
      <div class="row">
        <div class="col">
          <div class="card border-0">
            <div id="map-default" class="map-canvas" data-lat="40.748817" data-lng="-73.985428" style="height: 600px;"></div>
          </div>
        </div>
      </div>

      {% include "includes/footer.html" %}
      
    </div>

{% endblock content %}

<!-- Specific JS goes HERE --> 
{% block javascripts %}

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDTTfWur0PDbZWPr7Pmq8K3jiDp0_xUziI"></script>

{% endblock javascripts %}

```

### Estilo 4 - Persistent Tables

#### Descripción
- Los datos de entrada del problema se modelan como entidades con relaciones entre ellas
- Los datos se colocan en tablas, con columnas que potencialmente hacen referencia cruzada a datos en otras tablas
- Existencia de un motor de consulta relacional
- El problema se resuelve emitiendo consultas sobre los datos tabulares.

#### Fragmento de código

```javascript
async findByName(city) {
  const con = connectionDb.promise();
  const data = await con.query("SELECT * FROM city WHERE City_Name = ?", [
    city,
  ]);
  return data[0];
}
async getAll() {
  const connection = connectionDb.promise();
  const data = await con.query(
    "SELECT * FROM student INNER JOIN person ON student.PersonID = person.PersonID INNER JOIN city ON person.CityID = city.CityID"
  );
  return data[0];
}
```

### Estilo 5 - Declared Intentions

#### Descripción
- Existencia de un verificador de tipos en tiempo de ejecución
- Los procedimientos y funciones declaran qué tipos de argumentos esperan
- Si las personas que llaman envían argumentos de tipos que no se esperan, el
   los procedimientos/funciones no se ejecutan.
  
#### Fragmento de código
```javascript
@register_check
def missing_whitespace(logical_line):
    r"""Each comma, semicolon or colon should be followed by whitespace.

    Okay: [a, b]
    Okay: (3,)
    Okay: a[1:4]
    Okay: a[:4]
    Okay: a[1:]
    Okay: a[1:4:2]
    E231: ['a','b']
    E231: foo(bar,baz)
    E231: [{'a':'b'}]
    """
    line = logical_line
    for index in range(len(line) - 1):
        char = line[index]
        next_char = line[index + 1]
        if char in ',;:' and next_char not in WHITESPACE:
            before = line[:index]
            if char == ':' and before.count('[') > before.count(']') and \
                    before.rfind('{') < before.rfind('['):
                continue  # Slice syntax, no space required
            if char == ',' and next_char == ')':
                continue  # Allow tuple with only one element: (3,)
            if char == ':' and next_char == '=' and sys.version_info >= (3, 8):
                continue  # Allow assignment expression
            yield index, "E231 missing whitespace after '%s'" % char


@register_check
def indentation(logical_line, previous_logical, indent_char,
                indent_level, previous_indent_level,
                indent_size, indent_size_str):
    r"""Use indent_size (PEP8 says 4) spaces per indentation level.

    For really old code that you don't want to mess up, you can continue
    to use 8-space tabs.

    Okay: a = 1
    Okay: if a == 0:\n    a = 1
    E111:   a = 1
    E114:   # a = 1

    Okay: for item in items:\n    pass
    E112: for item in items:\npass
    E115: for item in items:\n# Hi\n    pass

    Okay: a = 1\nb = 2
    E113: a = 1\n    b = 2
    E116: a = 1\n    # b = 2
    """
    c = 0 if logical_line else 3
    tmpl = "E11%d %s" if logical_line else "E11%d %s (comment)"
    if indent_level % indent_size:
        yield 0, tmpl % (
            1 + c,
            "indentation is not a multiple of " + indent_size_str,
        )
    indent_expect = previous_logical.endswith(':')
    if indent_expect and indent_level <= previous_indent_level:
        yield 0, tmpl % (2 + c, "expected an indented block")
    elif not indent_expect and indent_level > previous_indent_level:
        yield 0, tmpl % (3 + c, "unexpected indentation")

    if indent_expect:
        expected_indent_amount = 8 if indent_char == '\t' else 4
        expected_indent_level = previous_indent_level + expected_indent_amount
        if indent_level > expected_indent_level:
            yield 0, tmpl % (7, 'over-indented')


@register_check
def continued_indentation(logical_line, tokens, indent_level, hang_closing,
                          indent_char, indent_size, indent_size_str, noqa,
                          verbose):
    r"""Continuation lines indentation.

    Continuation lines should align wrapped elements either vertically
    using Python's implicit line joining inside parentheses, brackets
    and braces, or using a hanging indent.

    When using a hanging indent these considerations should be applied:
    - there should be no arguments on the first line, and
    - further indentation should be used to clearly distinguish itself
      as a continuation line.

    Okay: a = (\n)
    E123: a = (\n    )

    Okay: a = (\n    42)
    E121: a = (\n   42)
    E122: a = (\n42)
    E123: a = (\n    42\n    )
    E124: a = (24,\n     42\n)
    E125: if (\n    b):\n    pass
    E126: a = (\n        42)
    E127: a = (24,\n      42)
    E128: a = (24,\n    42)
    E129: if (a or\n    b):\n    pass
    E131: a = (\n    42\n 24)
    """
    first_row = tokens[0][2][0]
    nrows = 1 + tokens[-1][2][0] - first_row
    if noqa or nrows == 1:
        return

    # indent_next tells us whether the next block is indented; assuming
    # that it is indented by 4 spaces, then we should not allow 4-space
    # indents on the final continuation line; in turn, some other
    # indents are allowed to have an extra 4 spaces.
    indent_next = logical_line.endswith(':')

    row = depth = 0
    valid_hangs = (indent_size,) if indent_char != '\t' \
        else (indent_size, indent_size * 2)
    # remember how many brackets were opened on each line
    parens = [0] * nrows
    # relative indents of physical lines
    rel_indent = [0] * nrows
    # for each depth, collect a list of opening rows
    open_rows = [[0]]
    # for each depth, memorize the hanging indentation
    hangs = [None]
    # visual indents
    indent_chances = {}
    last_indent = tokens[0][2]
    visual_indent = None
    last_token_multiline = False
    # for each depth, memorize the visual indent column
    indent = [last_indent[1]]
    if verbose >= 3:
        print(">>> " + tokens[0][4].rstrip())

    for token_type, text, start, end, line in tokens:

        newline = row < start[0] - first_row
        if newline:
            row = start[0] - first_row
            newline = not last_token_multiline and token_type not in NEWLINE

        if newline:
            # this is the beginning of a continuation line.
            last_indent = start
            if verbose >= 3:
                print("... " + line.rstrip())

            # record the initial indent.
            rel_indent[row] = expand_indent(line) - indent_level

            # identify closing bracket
            close_bracket = (token_type == tokenize.OP and text in ']})')

            # is the indent relative to an opening bracket line?
            for open_row in reversed(open_rows[depth]):
                hang = rel_indent[row] - rel_indent[open_row]
                hanging_indent = hang in valid_hangs
                if hanging_indent:
                    break
            if hangs[depth]:
                hanging_indent = (hang == hangs[depth])
            # is there any chance of visual indent?
            visual_indent = (not close_bracket and hang > 0 and
                             indent_chances.get(start[1]))

            if close_bracket and indent[depth]:
                # closing bracket for visual indent
                if start[1] != indent[depth]:
                    yield (start, "E124 closing bracket does not match "
                           "visual indentation")
            elif close_bracket and not hang:
                # closing bracket matches indentation of opening
                # bracket's line
                if hang_closing:
                    yield start, "E133 closing bracket is missing indentation"
            elif indent[depth] and start[1] < indent[depth]:
                if visual_indent is not True:
                    # visual indent is broken
                    yield (start, "E128 continuation line "
                           "under-indented for visual indent")
            elif hanging_indent or (indent_next and
                                    rel_indent[row] == 2 * indent_size):
                # hanging indent is verified
                if close_bracket and not hang_closing:
                    yield (start, "E123 closing bracket does not match "
                           "indentation of opening bracket's line")
                hangs[depth] = hang
            elif visual_indent is True:
                # visual indent is verified
                indent[depth] = start[1]
            elif visual_indent in (text, str):
                # ignore token lined up with matching one from a
                # previous line
                pass
            else:
                # indent is broken
                if hang <= 0:
                    error = "E122", "missing indentation or outdented"
                elif indent[depth]:
                    error = "E127", "over-indented for visual indent"
                elif not close_bracket and hangs[depth]:
                    error = "E131", "unaligned for hanging indent"
                else:
                    hangs[depth] = hang
                    if hang > indent_size:
                        error = "E126", "over-indented for hanging indent"
                    else:
                        error = "E121", "under-indented for hanging indent"
                yield start, "%s continuation line %s" % error
```

### Estilo 6 Things

#### Descripción

- El problema mayor se descompone en 'cosas' que tienen sentido para el dominio del problema.
- Cada 'cosa' es una cápsula de datos que expone procedimientos al resto del mundo.
- Nunca se accede a los datos directamente, solo a través de estos procedimientos.
- Las cápsulas pueden reapropiarse de procedimientos definidos en otras cápsulas.

#### Fragmento de código
```javascript
@register_check
def missing_whitespace_after_import_keyword(logical_line):
    r"""Multiple imports in form from x import (a, b, c) should have
    space between import statement and parenthesised name list.

    Okay: from foo import (bar, baz)
    E275: from foo import(bar, baz)
    E275: from importable.module import(bar, baz)
    """
    line = logical_line
    indicator = ' import('
    if line.startswith('from '):
        found = line.find(indicator)
        if -1 < found:
            pos = found + len(indicator) - 1
            yield pos, "E275 missing whitespace after keyword"
```
